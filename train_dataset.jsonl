{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T1.monthly_revenue) FROM subscriptions AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T2.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023, broken down by industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers WHERE strftime('%Y', signup_date) = '2023' GROUP BY industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the average resolution time for support tickets with 'High' priority.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(resolved_in_hours) FROM support_tickets WHERE priority = 'High';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the top 5 customers by their total monthly revenue across all their subscriptions.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.name, SUM(T1.monthly_revenue) AS total_revenue FROM subscriptions AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id GROUP BY T2.name ORDER BY total_revenue DESC LIMIT 5;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industries have the highest average monthly revenue per customer?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.industry, AVG(T1.monthly_revenue) AS avg_revenue FROM subscriptions AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id GROUP BY T2.industry ORDER BY avg_revenue DESC;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of active subscriptions for each plan tier?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, COUNT(sub_id) FROM subscriptions WHERE status = 'Active' GROUP BY plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Show the customer name and their signup date for all customers who have at least one support ticket with an 'Urgent' issue type.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT DISTINCT T1.name, T1.signup_date FROM customers AS T1 INNER JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id WHERE T2.issue_type = 'Urgent';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the total number of support tickets resolved within 24 hours for each priority level.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT priority, COUNT(ticket_id) FROM support_tickets WHERE resolved_in_hours <= 24 GROUP BY priority;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: For each customer, what is the sum of their monthly revenue and the number of support tickets they have?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, SUM(T2.monthly_revenue), COUNT(T3.ticket_id) FROM customers AS T1 LEFT JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id LEFT JOIN support_tickets AS T3 ON T1.customer_id = T3.customer_id GROUP BY T1.name;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List all customers who have signed up since '2023-01-01' and have a 'Premium' plan tier subscription.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT DISTINCT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.signup_date >= '2023-01-01' AND T2.plan_tier = 'Premium';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023, broken down by industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023' GROUP BY industry"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the average number of hours it takes to resolve support tickets for each priority level.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT priority, AVG(resolved_in_hours) FROM support_tickets GROUP BY priority"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who have active subscriptions with a 'Premium' plan tier.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.plan_tier = 'Premium' AND T2.status = 'active'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue generated from each subscription plan tier across all customers?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, SUM(monthly_revenue) FROM subscriptions GROUP BY plan_tier"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industries have the highest average monthly revenue per customer?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, AVG(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry ORDER BY AVG(T2.monthly_revenue) DESC"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Count the number of support tickets categorized as 'Billing Issue' that were resolved in less than 24 hours.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(ticket_id) FROM support_tickets WHERE issue_type = 'Billing Issue' AND resolved_in_hours < 24"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Show the customer names and their signup dates for customers who signed up in the first quarter of any year.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT name, signup_date FROM customers WHERE STRFTIME('%m', signup_date) BETWEEN '01' AND '03'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total number of subscriptions for each status ('active', 'canceled', 'pending')?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT status, COUNT(sub_id) FROM subscriptions GROUP BY status"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the top 3 customers by total monthly revenue.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, SUM(T2.monthly_revenue) AS total_revenue FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id ORDER BY total_revenue DESC LIMIT 3"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up each month in the year 2023?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT STRFTIME('%Y-%m', signup_date) AS signup_month, COUNT(customer_id) AS num_customers FROM customers WHERE STRFTIME('%Y', signup_date) = '2023' GROUP BY signup_month ORDER BY signup_month;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average time taken to resolve support tickets for each priority level?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT priority, AVG(resolved_in_hours) AS average_resolution_time FROM support_tickets GROUP BY priority;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who have active subscriptions and signed up in the last 6 months.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'active' AND T1.signup_date >= DATE('now', '-6 months');"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industry has the highest average monthly revenue per customer?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, AVG(T2.monthly_revenue) AS avg_revenue FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry ORDER BY avg_revenue DESC LIMIT 1;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the total number of support tickets for each issue type and their average resolution time.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT issue_type, COUNT(ticket_id) AS total_tickets, AVG(resolved_in_hours) AS average_resolution_time FROM support_tickets GROUP BY issue_type;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Show the top 5 customers by total monthly revenue across all their subscriptions.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, SUM(T2.monthly_revenue) AS total_revenue FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id ORDER BY total_revenue DESC LIMIT 5;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What percentage of subscriptions are currently 'cancelled'?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT CAST(SUM(CASE WHEN status = 'cancelled' THEN 1 ELSE 0 END) AS REAL) * 100 / COUNT(sub_id) FROM subscriptions;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List all customers who have had more than 3 support tickets raised.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id HAVING COUNT(T2.ticket_id) > 3;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of customers for each plan tier, considering only active subscriptions?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, COUNT(customer_id) AS num_customers FROM subscriptions WHERE status = 'active' GROUP BY plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average time taken to resolve 'Billing Issue' support tickets?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(resolved_in_hours) FROM support_tickets WHERE issue_type = 'Billing Issue'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who have active subscriptions and their plan tier.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, T2.plan_tier FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'Active'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue generated by each industry, ordered from highest to lowest?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, SUM(T2.monthly_revenue) AS total_revenue FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry ORDER BY total_revenue DESC"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which customers have had more than 3 support tickets raised against them?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id HAVING COUNT(T2.ticket_id) > 3"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of subscriptions for each plan tier where the status is 'Cancelled'?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, COUNT(sub_id) FROM subscriptions WHERE status = 'Cancelled' GROUP BY plan_tier"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the customers whose signup date is before '2023-01-01' and have a 'Premium' plan tier.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.signup_date < '2023-01-01' AND T2.plan_tier = 'Premium'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average monthly revenue for each customer industry for active subscriptions?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, AVG(T2.monthly_revenue) AS average_revenue FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'Active' GROUP BY T1.industry"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List all customers and the total number of support tickets they have, including customers with no tickets.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, COUNT(T2.ticket_id) AS total_tickets FROM customers AS T1 LEFT JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many support tickets were resolved in under 24 hours for each issue type?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT issue_type, COUNT(ticket_id) FROM support_tickets WHERE resolved_in_hours < 24 GROUP BY issue_type;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who have more than 5 subscriptions.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id HAVING COUNT(T2.sub_id) > 5;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average number of hours it takes to resolve 'Billing' related support tickets?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(resolved_in_hours) FROM support_tickets WHERE issue_type = 'Billing';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the top 3 industries by the total number of active subscriptions.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, COUNT(T2.sub_id) AS active_subscriptions FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'active' GROUP BY T1.industry ORDER BY active_subscriptions DESC LIMIT 3;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue from customers who signed up in the year 2023?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE STRFTIME('%Y', T1.signup_date) = '2023';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which customers have the highest average monthly revenue across all their subscriptions?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, AVG(T2.monthly_revenue) AS avg_revenue FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id ORDER BY avg_revenue DESC;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers are there in each industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers GROUP BY industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total number of support tickets categorized by priority and status of subscription?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.priority, T3.status, COUNT(T1.ticket_id) FROM support_tickets AS T1 JOIN customers AS T2 ON T1.customer_id = T2.customer_id JOIN subscriptions AS T3 ON T2.customer_id = T3.customer_id GROUP BY T1.priority, T3.status;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List all customers who have 'Premium' plan tier subscriptions and whose support tickets have a 'High' priority.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT DISTINCT T1.name FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id JOIN support_tickets AS T3 ON T1.customer_id = T3.customer_id WHERE T2.plan_tier = 'Premium' AND T3.priority = 'High';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T1.monthly_revenue) FROM subscriptions AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T2.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many active subscriptions are there for each plan tier?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, COUNT(*) FROM subscriptions WHERE status = 'active' GROUP BY plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average number of hours it takes to resolve 'urgent' priority support tickets?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(resolved_in_hours) FROM support_tickets WHERE priority = 'urgent';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who signed up after '2023-01-01' and have more than one active subscription.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.signup_date > '2023-01-01' AND T2.status = 'active' GROUP BY T1.customer_id HAVING COUNT(T2.sub_id) > 1;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue and the count of tickets for each customer industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.industry, SUM(T1.monthly_revenue), COUNT(T3.ticket_id) FROM subscriptions AS T1 JOIN customers AS T2 ON T1.customer_id = T2.customer_id LEFT JOIN support_tickets AS T3 ON T1.customer_id = T3.customer_id GROUP BY T2.industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the top 3 customers by total monthly revenue.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, SUM(T2.monthly_revenue) AS total_revenue FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id ORDER BY total_revenue DESC LIMIT 3;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many support tickets were resolved in less than 5 hours for customers in the 'Finance' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(T1.ticket_id) FROM support_tickets AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T1.resolved_in_hours < 5 AND T2.industry = 'Finance';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average monthly revenue per customer for each plan tier, considering only active subscriptions?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, AVG(monthly_revenue) FROM subscriptions WHERE status = 'active' GROUP BY plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List customers who have not had any support tickets raised in the last 30 days.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT name FROM customers WHERE customer_id NOT IN (SELECT DISTINCT customer_id FROM support_tickets);"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the total revenue for each industry and the average resolution time for their support tickets.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.industry, SUM(T1.monthly_revenue) AS total_revenue, AVG(T3.resolved_in_hours) AS avg_resolution_time FROM subscriptions AS T1 JOIN customers AS T2 ON T1.customer_id = T2.customer_id LEFT JOIN support_tickets AS T3 ON T1.customer_id = T3.customer_id GROUP BY T2.industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023, broken down by industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023' GROUP BY industry"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average time it takes to resolve support tickets for 'High' priority issues?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(resolved_in_hours) FROM support_tickets WHERE priority = 'High'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who have active subscriptions and have also opened more than 5 support tickets.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id INNER JOIN support_tickets AS T3 ON T1.customer_id = T3.customer_id WHERE T2.status = 'Active' GROUP BY T1.customer_id HAVING COUNT(T3.ticket_id) > 5"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue for each plan tier from customers who signed up in the last 6 months?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.plan_tier, SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.signup_date >= DATE('now', '-6 months') GROUP BY T2.plan_tier"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Show the count of support tickets for each issue type, ordered by the number of tickets in descending order.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT issue_type, COUNT(ticket_id) FROM support_tickets GROUP BY issue_type ORDER BY COUNT(ticket_id) DESC"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industries have the highest average monthly revenue per customer?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, AVG(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry ORDER BY AVG(T2.monthly_revenue) DESC"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find customers who have a 'Premium' plan tier and whose support tickets are typically resolved in less than 24 hours.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT DISTINCT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id INNER JOIN support_tickets AS T3 ON T1.customer_id = T3.customer_id WHERE T2.plan_tier = 'Premium' AND T3.resolved_in_hours < 24"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total number of active subscriptions for each industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, COUNT(T2.sub_id) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'Active' GROUP BY T1.industry"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the ratio of resolved support tickets to total support tickets for each customer.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT customer_id, CAST(SUM(CASE WHEN resolved_in_hours IS NOT NULL THEN 1 ELSE 0 END) AS REAL) / COUNT(ticket_id) AS resolution_ratio FROM support_tickets GROUP BY customer_id"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry, who signed up after '2023-01-01' and have an active subscription?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T1.monthly_revenue) FROM subscriptions AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T2.industry = 'Technology' AND T2.signup_date > '2023-01-01' AND T1.status = 'active';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many support tickets were resolved in under 10 hours for customers with a 'premium' plan tier?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(T1.ticket_id) FROM support_tickets AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.resolved_in_hours < 10 AND T2.plan_tier = 'premium';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the average time it takes to resolve 'billing' issues, segmented by the priority level ('high' or 'medium').\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT priority, AVG(resolved_in_hours) FROM support_tickets WHERE issue_type = 'billing' AND priority IN ('high', 'medium') GROUP BY priority;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who have never had a support ticket opened for them.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 LEFT JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id WHERE T2.ticket_id IS NULL;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the top 3 industries with the highest total monthly revenue from active subscriptions.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.industry, SUM(T1.monthly_revenue) AS total_revenue FROM subscriptions AS T1 JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T1.status = 'active' GROUP BY T2.industry ORDER BY total_revenue DESC LIMIT 3;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the number of unique customers for each plan tier, considering only subscriptions that are currently 'active' or 'trialing'?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, COUNT(DISTINCT customer_id) FROM subscriptions WHERE status IN ('active', 'trialing') GROUP BY plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Show the customer names and their signup dates for customers who have had more than 5 support tickets.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, T1.signup_date FROM customers AS T1 JOIN (SELECT customer_id, COUNT(*) AS num_tickets FROM support_tickets GROUP BY customer_id HAVING num_tickets > 5) AS T2 ON T1.customer_id = T2.customer_id;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Determine the average monthly revenue per customer for each industry, considering only customers with at least one active subscription.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.industry, AVG(T1.monthly_revenue) FROM subscriptions AS T1 JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T1.status = 'active' GROUP BY T2.industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which customers (names) have had their 'billing' issues resolved in more than 50 hours and have a 'premium' plan tier?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id JOIN subscriptions AS T3 ON T1.customer_id = T3.customer_id WHERE T2.issue_type = 'billing' AND T2.resolved_in_hours > 50 AND T3.plan_tier = 'premium';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the total number of active subscriptions and the total number of resolved support tickets for each customer.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, COUNT(DISTINCT T2.sub_id) AS active_subscriptions, COUNT(DISTINCT T3.ticket_id) AS resolved_tickets FROM customers AS T1 LEFT JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id AND T2.status = 'active' LEFT JOIN support_tickets AS T3 ON T1.customer_id = T3.customer_id GROUP BY T1.customer_id, T1.name ORDER BY T1.name;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023, broken down by industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023' GROUP BY industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average time it takes to resolve support tickets for each priority level?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT priority, AVG(resolved_in_hours) FROM support_tickets GROUP BY priority;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who have more than one active subscription.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'active' GROUP BY T1.customer_id HAVING COUNT(T2.sub_id) > 1;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue from subscriptions with a 'premium' plan tier?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(monthly_revenue) FROM subscriptions WHERE plan_tier = 'premium';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industries have the highest average monthly revenue per customer?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, AVG(T2.monthly_revenue) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry ORDER BY AVG(T2.monthly_revenue) DESC;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many support tickets were raised for each issue type in the last 30 days?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT issue_type, COUNT(*) FROM support_tickets WHERE DATE('now', '-30 days') <= DATE(strftime('%Y-%m-%d', 'now')) GROUP BY issue_type;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the customer with the highest total monthly revenue.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, SUM(T2.monthly_revenue) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id ORDER BY SUM(T2.monthly_revenue) DESC LIMIT 1;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of customers by their signup month in the year 2023?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT STRFTIME('%m', signup_date) AS signup_month, COUNT(*) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023' GROUP BY signup_month ORDER BY signup_month;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List all customers who have never had an 'open' support ticket.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT name FROM customers WHERE customer_id NOT IN (SELECT customer_id FROM support_tickets WHERE priority = 'high');"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T1.monthly_revenue) FROM subscriptions AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T2.industry = 'Technology'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023, broken down by industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023' GROUP BY industry"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average number of hours it takes to resolve 'Urgent' priority support tickets?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(resolved_in_hours) FROM support_tickets WHERE priority = 'Urgent'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the top 5 customers by their total monthly revenue across all their subscriptions.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.name, SUM(T1.monthly_revenue) AS total_revenue FROM subscriptions AS T1 JOIN customers AS T2 ON T1.customer_id = T2.customer_id GROUP BY T2.customer_id ORDER BY total_revenue DESC LIMIT 5"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industries have the highest average monthly revenue per customer?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.industry, AVG(T1.monthly_revenue) AS avg_revenue FROM subscriptions AS T1 JOIN customers AS T2 ON T1.customer_id = T2.customer_id GROUP BY T2.industry ORDER BY avg_revenue DESC"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many active subscriptions are there for each plan tier?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, COUNT(sub_id) FROM subscriptions WHERE status = 'Active' GROUP BY plan_tier"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue generated by customers who signed up in the last 6 months?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T1.monthly_revenue) FROM subscriptions AS T1 JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T2.signup_date >= DATE('now', '-6 months')"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the customers who have had more than 3 support tickets raised against them.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.name FROM support_tickets AS T1 JOIN customers AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id HAVING COUNT(T1.ticket_id) > 3"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of distinct industries that have customers with 'Premium' plan tiers and an active status?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(DISTINCT T2.industry) FROM subscriptions AS T1 JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T1.plan_tier = 'Premium' AND T1.status = 'Active'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the total revenue and the total number of resolved support tickets for each customer.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T3.name, SUM(T1.monthly_revenue) AS total_revenue, COUNT(CASE WHEN T2.resolved_in_hours IS NOT NULL THEN T2.ticket_id ELSE NULL END) AS total_resolved_tickets FROM subscriptions AS T1 JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id JOIN customers AS T3 ON T1.customer_id = T3.customer_id GROUP BY T3.customer_id"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated by customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023, broken down by industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023' GROUP BY industry"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average resolution time for 'High' priority support tickets?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(resolved_in_hours) FROM support_tickets WHERE priority = 'High'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List all customers who have an active subscription and have opened more than 5 support tickets.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id INNER JOIN support_tickets AS T3 ON T1.customer_id = T3.customer_id WHERE T2.status = 'Active' GROUP BY T1.customer_id HAVING COUNT(T3.ticket_id) > 5"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industry has the highest average monthly revenue per customer?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, AVG(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry ORDER BY AVG(T2.monthly_revenue) DESC LIMIT 1"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What are the top 3 most common issue types for support tickets that were resolved in under 24 hours?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT issue_type, COUNT(ticket_id) FROM support_tickets WHERE resolved_in_hours < 24 GROUP BY issue_type ORDER BY COUNT(ticket_id) DESC LIMIT 3"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the total revenue for each plan tier for customers who signed up after '2023-01-01'.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.plan_tier, SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.signup_date > '2023-01-01' GROUP BY T2.plan_tier"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find customers whose names start with 'A' and have a 'Premium' plan subscription.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.name LIKE 'A%' AND T2.plan_tier = 'Premium'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of customers with 'Cancelled' subscriptions, grouped by their industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, COUNT(T1.customer_id) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'Cancelled' GROUP BY T1.industry"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Show the customer ID and name for customers who have never had a support ticket opened.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT customer_id, name FROM customers WHERE customer_id NOT IN (SELECT DISTINCT customer_id FROM support_tickets)"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average resolution time for 'Billing Issue' support tickets?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(resolved_in_hours) FROM support_tickets WHERE issue_type = 'Billing Issue';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who have an 'Active' subscription and are in the 'Finance' industry.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'Active' AND T1.industry = 'Finance';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue for each plan tier?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, SUM(monthly_revenue) FROM subscriptions GROUP BY plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which customers have had more than 3 support tickets raised?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id HAVING COUNT(T2.ticket_id) > 3;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the highest monthly revenue generated by a single subscription?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT MAX(monthly_revenue) FROM subscriptions;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many subscriptions are currently 'Inactive' for each customer?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, COUNT(T2.sub_id) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'Inactive' GROUP BY T1.name;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average monthly revenue per customer in the 'Healthcare' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Healthcare';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the top 5 customers by total monthly revenue.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, SUM(T2.monthly_revenue) AS total_revenue FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.name ORDER BY total_revenue DESC LIMIT 5;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many support tickets were resolved within 24 hours for customers with a 'Premium' plan tier?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(T1.ticket_id) FROM support_tickets AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.plan_tier = 'Premium' AND T1.resolved_in_hours <= 24;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average resolution time for 'Billing' issues across all customers?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(resolved_in_hours) FROM support_tickets WHERE issue_type = 'Billing';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who signed up after '2023-01-01' and have an active subscription.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.signup_date > '2023-01-01' AND T2.status = 'active';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total number of customers in each industry, ordered by the count in descending order?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers GROUP BY industry ORDER BY COUNT(customer_id) DESC;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the top 3 customers by total monthly revenue.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, SUM(T2.monthly_revenue) AS total_revenue FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id ORDER BY total_revenue DESC LIMIT 3;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average monthly revenue for each plan tier?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, AVG(monthly_revenue) FROM subscriptions GROUP BY plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers have not had any support tickets resolved?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(DISTINCT c.customer_id) FROM customers c LEFT JOIN support_tickets st ON c.customer_id = st.customer_id WHERE st.ticket_id IS NULL;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of customers and their total monthly revenue for each industry where the total revenue exceeds $5000?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, COUNT(T1.customer_id), SUM(T2.monthly_revenue) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry HAVING SUM(T2.monthly_revenue) > 5000;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List all customers who have had a support ticket with 'High' priority.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT DISTINCT T1.name FROM customers AS T1 JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id WHERE T2.priority = 'High';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many active subscriptions are there for each plan tier?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, COUNT(sub_id) FROM subscriptions WHERE status = 'active' GROUP BY plan_tier"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average time it takes to resolve 'Technical Issue' priority support tickets?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(resolved_in_hours) FROM support_tickets WHERE issue_type = 'Technical Issue' AND priority = 'High'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who signed up in the last 90 days and have a 'Premium' plan tier.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.signup_date >= DATE('now', '-90 days') AND T2.plan_tier = 'Premium'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industry has the highest average monthly revenue per customer?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, AVG(T2.monthly_revenue) as avg_revenue FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry ORDER BY avg_revenue DESC LIMIT 1"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total number of support tickets resolved for each customer, and what is their signup date?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, T1.signup_date, COUNT(T2.ticket_id) AS total_resolved_tickets FROM customers AS T1 JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id WHERE T2.resolved_in_hours IS NOT NULL GROUP BY T1.customer_id"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the customer with the most expensive subscription (highest monthly revenue).\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, T2.plan_tier, T2.monthly_revenue FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id ORDER BY T2.monthly_revenue DESC LIMIT 1"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers are in each industry, and what is the average number of support tickets they have opened?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, COUNT(DISTINCT T1.customer_id), AVG(T3.total_tickets) FROM customers AS T1 LEFT JOIN (SELECT customer_id, COUNT(*) AS total_tickets FROM support_tickets GROUP BY customer_id) AS T3 ON T1.customer_id = T3.customer_id GROUP BY T1.industry"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the sum of monthly revenue for all 'Enterprise' plan tiers across all customers?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(monthly_revenue) FROM subscriptions WHERE plan_tier = 'Enterprise'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List customers whose support tickets were resolved in under 5 hours and have had more than 3 tickets opened.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 JOIN (SELECT customer_id, COUNT(*) AS ticket_count FROM support_tickets WHERE resolved_in_hours < 5 GROUP BY customer_id HAVING ticket_count > 3) AS T2 ON T1.customer_id = T2.customer_id"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023, broken down by industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023' GROUP BY industry"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average time it takes to resolve 'Technical Issue' support tickets, considering only tickets with 'High' priority?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(resolved_in_hours) FROM support_tickets WHERE issue_type = 'Technical Issue' AND priority = 'High'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List all customers who have an 'Active' subscription and whose signup date is before 2023-01-01.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'Active' AND T1.signup_date < '2023-01-01'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue for each plan tier across all active subscriptions?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, SUM(monthly_revenue) FROM subscriptions WHERE status = 'Active' GROUP BY plan_tier"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the top 3 industries with the highest number of customers who have at least one 'Cancelled' subscription.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, COUNT(DISTINCT T1.customer_id) AS customer_count FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'Cancelled' GROUP BY T1.industry ORDER BY customer_count DESC LIMIT 3"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of support tickets for each issue type, showing only those with more than 100 tickets?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT issue_type, COUNT(ticket_id) FROM support_tickets GROUP BY issue_type HAVING COUNT(ticket_id) > 100"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the total monthly revenue per customer, for customers in the 'Finance' industry who signed up in the last 6 months.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, SUM(T2.monthly_revenue) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Finance' AND T1.signup_date >= DATE('now', '-6 months') GROUP BY T1.name"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many support tickets were resolved in less than 24 hours, for each priority level?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT priority, COUNT(ticket_id) FROM support_tickets WHERE resolved_in_hours < 24 GROUP BY priority"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What are the names of customers who have subscribed to the 'Premium' plan and have had more than 5 support tickets raised?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id JOIN support_tickets AS T3 ON T1.customer_id = T3.customer_id WHERE T2.plan_tier = 'Premium' GROUP BY T1.customer_id HAVING COUNT(T3.ticket_id) > 5"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated by customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023, broken down by industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023' GROUP BY industry"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average time it takes to resolve support tickets for each priority level?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT priority, AVG(resolved_in_hours) FROM support_tickets GROUP BY priority"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which customers have a 'Premium' plan tier and have had more than 5 support tickets opened?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id JOIN support_tickets AS T3 ON T1.customer_id = T3.customer_id WHERE T2.plan_tier = 'Premium' GROUP BY T1.customer_id HAVING COUNT(T3.ticket_id) > 5"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total number of active subscriptions and their total monthly revenue, grouped by plan tier?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, COUNT(sub_id), SUM(monthly_revenue) FROM subscriptions WHERE status = 'active' GROUP BY plan_tier"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers and the number of support tickets they have raised, only for customers in the 'Finance' industry.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, COUNT(T2.ticket_id) FROM customers AS T1 JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Finance' GROUP BY T1.customer_id"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the most common issue type across all support tickets?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT issue_type FROM support_tickets GROUP BY issue_type ORDER BY COUNT(ticket_id) DESC LIMIT 1"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the total monthly revenue for each customer, considering only 'active' subscriptions.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, SUM(T2.monthly_revenue) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'active' GROUP BY T1.customer_id"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find customers who signed up in the last 6 months and have a 'Gold' plan tier.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.signup_date >= DATE('now', '-6 months') AND T2.plan_tier = 'Gold'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average monthly revenue per customer for each industry, considering only active subscriptions?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, AVG(T2.monthly_revenue) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'active' GROUP BY T1.industry"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023, broken down by industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023' GROUP BY industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average resolution time for 'Billing' issues across all customers?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(resolved_in_hours) FROM support_tickets WHERE issue_type = 'Billing';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who have a 'Premium' plan and whose subscription is currently 'Active'.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.plan_tier = 'Premium' AND T2.status = 'Active';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total number of support tickets submitted per month in 2024?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT STRFTIME('%Y-%m', date('now')) AS month, COUNT(ticket_id) FROM support_tickets WHERE STRFTIME('%Y', date('now')) = '2024' GROUP BY month;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the top 3 industries by the number of active subscriptions.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, COUNT(T2.sub_id) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'Active' GROUP BY T1.industry ORDER BY COUNT(T2.sub_id) DESC LIMIT 3;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average monthly revenue per customer in the 'Finance' industry for active subscriptions?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Finance' AND T2.status = 'Active';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers have had more than 5 support tickets resolved, and what is their industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, COUNT(T2.ticket_id) AS ticket_count FROM customers AS T1 INNER JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id, T1.industry HAVING COUNT(T2.ticket_id) > 5;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the total revenue from 'Gold' tier plans that were signed up for before '2023-06-01'.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(monthly_revenue) FROM subscriptions WHERE plan_tier = 'Gold' AND STRFTIME('%Y-%m-%d', date('now')) < '2023-06-01';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List all customers and their most recent signup date.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT name, MAX(signup_date) FROM customers GROUP BY name;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from all active subscriptions, broken down by plan tier?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, SUM(monthly_revenue) AS total_revenue FROM subscriptions WHERE status = 'active' GROUP BY plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the last quarter of 2023, and what were their industries?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT name, industry FROM customers WHERE strftime('%Y-%m-%d', signup_date) BETWEEN '2023-10-01' AND '2023-12-31';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average resolution time for support tickets categorized as 'technical issue', and what is the overall average resolution time?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(CASE WHEN issue_type = 'technical issue' THEN resolved_in_hours ELSE NULL END) AS avg_tech_issue_resolution, AVG(resolved_in_hours) AS overall_avg_resolution FROM support_tickets;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which customers have a 'premium' plan tier and have generated more than $100 in monthly revenue?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.name FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id WHERE s.plan_tier = 'premium' AND s.monthly_revenue > 100;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the top 5 customers by total monthly revenue across all their active subscriptions.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.name, SUM(s.monthly_revenue) AS total_revenue FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id WHERE s.status = 'active' GROUP BY c.customer_id ORDER BY total_revenue DESC LIMIT 5;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of support tickets that were resolved in under 24 hours, grouped by customer industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.industry, COUNT(st.ticket_id) AS tickets_resolved_under_24h FROM customers c JOIN support_tickets st ON c.customer_id = st.customer_id WHERE st.resolved_in_hours < 24 GROUP BY c.industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the customers who signed up in 2024 and have no active subscriptions.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.name FROM customers c LEFT JOIN subscriptions s ON c.customer_id = s.customer_id AND s.status = 'active' WHERE strftime('%Y', c.signup_date) = '2024' AND s.sub_id IS NULL;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the percentage of 'high' priority support tickets that are resolved within the top 10% fastest resolution times?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "WITH RankedTickets AS (SELECT ticket_id, resolved_in_hours, ROW_NUMBER() OVER (ORDER BY resolved_in_hours ASC) as rn, COUNT(*) OVER () as total_rows FROM support_tickets WHERE priority = 'high') SELECT CAST(SUM(CASE WHEN rn <= total_rows * 0.1 THEN 1 ELSE 0 END) AS REAL) * 100 / total_rows FROM RankedTickets;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many distinct industries are represented by customers who have at least one 'canceled' subscription?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(DISTINCT c.industry) FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id WHERE s.status = 'canceled';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the total revenue and average revenue per customer for each industry, considering only customers with at least one 'premium' plan.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.industry, SUM(s.monthly_revenue) AS total_industry_revenue, AVG(s.monthly_revenue) AS avg_revenue_per_subscription FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id WHERE s.plan_tier = 'premium' GROUP BY c.industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(s.monthly_revenue) FROM subscriptions s JOIN customers c ON s.customer_id = c.customer_id WHERE c.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023, broken down by industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.industry, COUNT(c.customer_id) FROM customers c WHERE STRFTIME('%Y', c.signup_date) = '2023' GROUP BY c.industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average time it takes to resolve 'Billing' issues for customers with a 'Premium' plan tier?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(st.resolved_in_hours) FROM support_tickets st JOIN subscriptions s ON st.customer_id = s.customer_id WHERE st.issue_type = 'Billing' AND s.plan_tier = 'Premium';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the top 5 customers by total monthly revenue, along with their industry.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.name, c.industry, SUM(s.monthly_revenue) AS total_revenue FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id GROUP BY c.customer_id, c.name, c.industry ORDER BY total_revenue DESC LIMIT 5;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of active subscriptions for each plan tier?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, COUNT(sub_id) FROM subscriptions WHERE status = 'Active' GROUP BY plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industries have the highest average support ticket resolution time?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.industry, AVG(st.resolved_in_hours) AS avg_resolution_time FROM customers c JOIN support_tickets st ON c.customer_id = st.customer_id GROUP BY c.industry ORDER BY avg_resolution_time DESC;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find all customers who have had more than 3 support tickets with 'High' priority.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.name, COUNT(st.ticket_id) AS high_priority_tickets FROM customers c JOIN support_tickets st ON c.customer_id = st.customer_id WHERE st.priority = 'High' GROUP BY c.customer_id, c.name HAVING COUNT(st.ticket_id) > 3;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List customers who signed up in Q1 of 2024 and have a 'Enterprise' plan tier.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.name, c.signup_date, s.plan_tier FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id WHERE STRFTIME('%Y', c.signup_date) = '2024' AND STRFTIME('%m', c.signup_date) BETWEEN '01' AND '03' AND s.plan_tier = 'Enterprise';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(s.monthly_revenue) FROM subscriptions s JOIN customers c ON s.customer_id = c.customer_id WHERE c.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023, broken down by industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023' GROUP BY industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the average number of hours it takes to resolve support tickets for each priority level.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT priority, AVG(resolved_in_hours) FROM support_tickets GROUP BY priority;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who have active subscriptions and have signed up in the last 6 months.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.name FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id WHERE s.status = 'active' AND c.signup_date >= DATE('now', '-6 months');"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue generated by each plan tier, considering only active subscriptions?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, SUM(monthly_revenue) FROM subscriptions WHERE status = 'active' GROUP BY plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Show the number of support tickets raised for each issue type, and the average resolution time for each.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT issue_type, COUNT(ticket_id), AVG(resolved_in_hours) FROM support_tickets GROUP BY issue_type;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industries have the highest average monthly revenue per customer from active subscriptions?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.industry, AVG(s.monthly_revenue) AS avg_revenue FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id WHERE s.status = 'active' GROUP BY c.industry ORDER BY avg_revenue DESC;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers have premium subscriptions ('premium' tier) and what is their total revenue?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(customer_id), SUM(monthly_revenue) FROM subscriptions WHERE plan_tier = 'premium';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Identify customers who have had more than 3 support tickets raised and list their names and the total number of tickets they've raised.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.name, COUNT(st.ticket_id) FROM customers c JOIN support_tickets st ON c.customer_id = st.customer_id GROUP BY c.customer_id HAVING COUNT(st.ticket_id) > 3;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the distribution of customer industries for customers who signed up after '2022-01-01' and have at least one active subscription?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.industry, COUNT(DISTINCT c.customer_id) FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id WHERE c.signup_date > '2022-01-01' AND s.status = 'active' GROUP BY c.industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T1.monthly_revenue) FROM subscriptions AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T2.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up each month in the year 2023?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT strftime('%Y-%m', signup_date) AS signup_month, COUNT(customer_id) AS customer_count FROM customers WHERE strftime('%Y', signup_date) = '2023' GROUP BY signup_month ORDER BY signup_month;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average number of hours it takes to resolve 'Billing' issues compared to 'Technical Support' issues?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT issue_type, AVG(resolved_in_hours) AS average_resolution_time FROM support_tickets WHERE issue_type IN ('Billing', 'Technical Support') GROUP BY issue_type;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the top 5 customers by their total monthly revenue, along with their industry.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.name, SUM(T1.monthly_revenue) AS total_revenue, T2.industry FROM subscriptions AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id GROUP BY T2.customer_id, T2.name, T2.industry ORDER BY total_revenue DESC LIMIT 5;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industries have the highest number of active subscriptions?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.industry, COUNT(T1.sub_id) AS active_subscription_count FROM subscriptions AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T1.status = 'active' GROUP BY T2.industry ORDER BY active_subscription_count DESC;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of support tickets for each priority level, broken down by customer industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.industry, T1.priority, COUNT(T1.ticket_id) AS ticket_count FROM support_tickets AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id GROUP BY T2.industry, T1.priority ORDER BY T2.industry, T1.priority;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find customers who have had more than 3 'Urgent' priority support tickets.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.name, COUNT(T1.ticket_id) AS urgent_ticket_count FROM support_tickets AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T1.priority = 'Urgent' GROUP BY T2.customer_id, T2.name HAVING urgent_ticket_count > 3;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue for each plan tier across all customers?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, SUM(monthly_revenue) AS total_revenue FROM subscriptions GROUP BY plan_tier ORDER BY total_revenue DESC;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers have signed up since the beginning of last year, and what is their total monthly revenue?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(DISTINCT T1.customer_id) AS customer_count, SUM(T2.monthly_revenue) AS total_revenue FROM customers AS T1 LEFT JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.signup_date >= date('now', '-1 year', 'start of year') GROUP BY T1.customer_id;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the percentage of 'resolved' support tickets for each issue type.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT issue_type, CAST(SUM(CASE WHEN resolved_in_hours IS NOT NULL THEN 1 ELSE 0 END) AS REAL) * 100 / COUNT(ticket_id) AS percentage_resolved FROM support_tickets GROUP BY issue_type ORDER BY issue_type;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023, broken down by industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023' GROUP BY industry"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average time taken to resolve support tickets for each priority level?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT priority, AVG(resolved_in_hours) FROM support_tickets GROUP BY priority"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who have at least two active subscriptions.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'active' GROUP BY T1.customer_id HAVING COUNT(T2.sub_id) >= 2"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industry has the highest average monthly revenue per customer?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, AVG(T2.monthly_revenue) AS avg_revenue FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry ORDER BY avg_revenue DESC LIMIT 1"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total number of support tickets resolved for each customer?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, COUNT(T2.ticket_id) AS total_resolved_tickets FROM customers AS T1 JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id WHERE T2.resolved_in_hours IS NOT NULL GROUP BY T1.customer_id"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find customers who signed up before 2022 and have a 'premium' plan tier.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE STRFTIME('%Y', T1.signup_date) < '2022' AND T2.plan_tier = 'premium'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of each issue type in support tickets, ordered by count descending?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT issue_type, COUNT(ticket_id) AS ticket_count FROM support_tickets GROUP BY issue_type ORDER BY ticket_count DESC"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the total monthly revenue for each plan tier across all customers.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, SUM(monthly_revenue) AS total_revenue FROM subscriptions GROUP BY plan_tier"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Show customers who have not had any support tickets resolved.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT name FROM customers WHERE customer_id NOT IN (SELECT customer_id FROM support_tickets WHERE resolved_in_hours IS NOT NULL)"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023, broken down by industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023' GROUP BY industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the top 5 customers by their total monthly revenue, along with their industry.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, T1.industry, SUM(T2.monthly_revenue) AS total_revenue FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id ORDER BY total_revenue DESC LIMIT 5;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average time taken to resolve support tickets for 'High' priority issues?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(resolved_in_hours) FROM support_tickets WHERE priority = 'High';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find all customers who have active subscriptions and have opened more than 2 support tickets.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id JOIN support_tickets AS T3 ON T1.customer_id = T3.customer_id WHERE T2.status = 'Active' GROUP BY T1.customer_id HAVING COUNT(T3.ticket_id) > 2;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the total number of subscriptions and the total monthly revenue for each plan tier.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, COUNT(sub_id), SUM(monthly_revenue) FROM subscriptions GROUP BY plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industries have the highest average monthly revenue per customer?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, AVG(T2.monthly_revenue) AS avg_revenue FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry ORDER BY avg_revenue DESC;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Show the customer names and their signup dates for customers who have never had a support ticket resolved.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT name, signup_date FROM customers WHERE customer_id NOT IN (SELECT DISTINCT customer_id FROM support_tickets);"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the distribution of support ticket issue types for customers in the 'Finance' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T3.issue_type, COUNT(T3.ticket_id) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id JOIN support_tickets AS T3 ON T1.customer_id = T3.customer_id WHERE T1.industry = 'Finance' GROUP BY T3.issue_type;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Count the number of customers who signed up in the last 6 months and have a 'Premium' plan tier.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(DISTINCT T1.customer_id) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.signup_date >= DATE('now', '-6 months') AND T2.plan_tier = 'Premium';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue generated from subscriptions for each industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.industry, SUM(s.monthly_revenue) AS total_revenue FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id GROUP BY c.industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the last quarter of 2023, broken down by industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers WHERE strftime('%Y-%m', signup_date) BETWEEN '2023-10' AND '2023-12' GROUP BY industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average time to resolve support tickets for 'Technical Issue' priority, and how does it compare across different industries?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.industry, AVG(st.resolved_in_hours) AS avg_resolution_time FROM support_tickets st JOIN customers c ON st.customer_id = c.customer_id WHERE st.issue_type = 'Technical Issue' GROUP BY c.industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List all active subscriptions with a monthly revenue greater than $100, along with their customer's industry.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT s.sub_id, c.name, c.industry, s.plan_tier, s.monthly_revenue FROM subscriptions s JOIN customers c ON s.customer_id = c.customer_id WHERE s.status = 'active' AND s.monthly_revenue > 100;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industries have the highest average monthly revenue per customer?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.industry, AVG(s.monthly_revenue) AS avg_revenue FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id GROUP BY c.industry ORDER BY avg_revenue DESC;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find customers who have had more than 3 support tickets raised, and show their industry and signup date.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.name, c.industry, c.signup_date FROM customers c JOIN (SELECT customer_id, COUNT(*) AS ticket_count FROM support_tickets GROUP BY customer_id HAVING ticket_count > 3) AS ticket_counts ON c.customer_id = ticket_counts.customer_id;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the distribution of plan tiers for customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT s.plan_tier, COUNT(s.sub_id) FROM subscriptions s JOIN customers c ON s.customer_id = c.customer_id WHERE c.industry = 'Technology' GROUP BY s.plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the total monthly revenue and the total number of resolved tickets for each customer.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.name, SUM(s.monthly_revenue) AS total_revenue, COUNT(CASE WHEN st.resolved_in_hours IS NOT NULL THEN st.ticket_id ELSE NULL END) AS resolved_tickets FROM customers c LEFT JOIN subscriptions s ON c.customer_id = s.customer_id LEFT JOIN support_tickets st ON c.customer_id = st.customer_id GROUP BY c.customer_id, c.name;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Identify customers whose signup date is before '2023-01-01' and have an 'Enterprise' plan tier.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.name, c.industry FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id WHERE c.signup_date < '2023-01-01' AND s.plan_tier = 'Enterprise';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of support tickets per issue type, and what is the average resolution time for each issue type across all customers?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT issue_type, COUNT(ticket_id) AS ticket_count, AVG(resolved_in_hours) AS avg_resolution_time FROM support_tickets GROUP BY issue_type;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023, broken down by industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023' GROUP BY industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average time it takes to resolve 'Billing' issue types across all customers?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(resolved_in_hours) FROM support_tickets WHERE issue_type = 'Billing';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the top 5 customers by their total monthly subscription revenue.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, SUM(T2.monthly_revenue) AS total_revenue FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id ORDER BY total_revenue DESC LIMIT 5;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industries have the highest number of active subscriptions?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, COUNT(T2.sub_id) AS active_subscriptions FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'active' GROUP BY T1.industry ORDER BY active_subscriptions DESC;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of support tickets for each priority level, only for customers who signed up after '2022-06-01'?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.priority, COUNT(T2.ticket_id) FROM customers AS T1 JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id WHERE T1.signup_date > '2022-06-01' GROUP BY T2.priority;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the customers who have had more than 3 support tickets raised, and show their names and the total number of tickets.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, COUNT(T2.ticket_id) AS ticket_count FROM customers AS T1 JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id HAVING COUNT(T2.ticket_id) > 3;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the total monthly revenue for each plan tier, only considering subscriptions that are currently active.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, SUM(monthly_revenue) AS total_revenue FROM subscriptions WHERE status = 'active' GROUP BY plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average monthly revenue per customer for each industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, AVG(T2.monthly_revenue) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023, broken down by industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023' GROUP BY industry"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average resolution time for 'Billing Issue' support tickets?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(resolved_in_hours) FROM support_tickets WHERE issue_type = 'Billing Issue'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the top 5 customers by total monthly revenue, along with their industry.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, T1.industry, SUM(T2.monthly_revenue) AS total_revenue FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id ORDER BY total_revenue DESC LIMIT 5"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industries have the highest average monthly revenue per customer?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, AVG(T2.monthly_revenue) AS avg_revenue FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry ORDER BY avg_revenue DESC"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of active subscriptions for each plan tier?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, COUNT(sub_id) FROM subscriptions WHERE status = 'active' GROUP BY plan_tier"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find customers who have had more than 3 support tickets with 'High' priority.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id WHERE T2.priority = 'High' GROUP BY T1.customer_id HAVING COUNT(T2.ticket_id) > 3"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue generated from 'Premium' plan tier subscriptions that are currently 'active'?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(monthly_revenue) FROM subscriptions WHERE plan_tier = 'Premium' AND status = 'active'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers have signed up since January 1st, 2024, and what is their average monthly revenue?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(T1.customer_id), AVG(T2.monthly_revenue) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.signup_date >= '2024-01-01'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Show the number of support tickets resolved within 24 hours for each issue type.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT issue_type, COUNT(ticket_id) FROM support_tickets WHERE resolved_in_hours <= 24 GROUP BY issue_type"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the last quarter of 2023?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(customer_id) FROM customers WHERE strftime('%Y-%m', signup_date) BETWEEN '2023-10' AND '2023-12'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average resolution time for 'High' priority support tickets?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(resolved_in_hours) FROM support_tickets WHERE priority = 'High'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who have active subscriptions and have submitted more than 2 support tickets.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id INNER JOIN support_tickets AS T3 ON T1.customer_id = T3.customer_id WHERE T2.status = 'Active' GROUP BY T1.customer_id HAVING COUNT(T3.ticket_id) > 2"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue from each plan tier for customers in the 'Finance' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.plan_tier, SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Finance' GROUP BY T2.plan_tier"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industry has the highest number of customers with 'Cancelled' subscriptions?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, COUNT(T1.customer_id) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'Cancelled' GROUP BY T1.industry ORDER BY COUNT(T1.customer_id) DESC LIMIT 1"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the total monthly revenue per customer, considering only subscriptions with a 'Premium' plan tier.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.plan_tier = 'Premium' GROUP BY T1.customer_id"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of each issue type for support tickets that were resolved in less than 24 hours?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT issue_type, COUNT(ticket_id) FROM support_tickets WHERE resolved_in_hours < 24 GROUP BY issue_type"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find customers who signed up in the first half of 2024 and have a 'Gold' plan tier subscription.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.signup_date BETWEEN '2024-01-01' AND '2024-06-30' AND T2.plan_tier = 'Gold'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average monthly revenue across all active subscriptions?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(monthly_revenue) FROM subscriptions WHERE status = 'Active'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated by customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023, broken down by industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers WHERE strftime('%Y', signup_date) = '2023' GROUP BY industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average time it takes to resolve 'Billing' issues for customers with a 'Premium' plan tier?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(T2.resolved_in_hours) FROM subscriptions AS T1 JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id WHERE T1.plan_tier = 'Premium' AND T2.issue_type = 'Billing';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who have had more than 3 support tickets raised against them.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id HAVING COUNT(T2.ticket_id) > 3;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue for each industry, considering only active subscriptions?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, SUM(T2.monthly_revenue) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'Active' GROUP BY T1.industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the customer with the highest total monthly revenue.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, SUM(T2.monthly_revenue) AS total_revenue FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id ORDER BY total_revenue DESC LIMIT 1;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of support tickets for each priority level, segmented by customer industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, T2.priority, COUNT(T2.ticket_id) FROM customers AS T1 JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry, T2.priority;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industries have an average subscription revenue greater than $100?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry HAVING AVG(T2.monthly_revenue) > 100;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Show the number of customers and total revenue for each plan tier, including those with no subscriptions.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.plan_tier, COUNT(DISTINCT T1.customer_id), SUM(T2.monthly_revenue) FROM customers AS T1 LEFT JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T2.plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List all customers who signed up after '2023-01-01' and have a 'High' priority issue reported.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT DISTINCT T1.name FROM customers AS T1 JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id WHERE T1.signup_date > '2023-01-01' AND T2.priority = 'High';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from each industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.industry, SUM(s.monthly_revenue) AS total_revenue FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id GROUP BY c.industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023, broken down by industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.industry, COUNT(c.customer_id) AS customer_count FROM customers c WHERE STRFTIME('%Y', c.signup_date) = '2023' GROUP BY c.industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average time it takes to resolve support tickets for each issue type?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT issue_type, AVG(resolved_in_hours) AS average_resolution_time FROM support_tickets GROUP BY issue_type;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which customers have a 'premium' plan tier and a monthly revenue greater than $500?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.name, s.plan_tier, s.monthly_revenue FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id WHERE s.plan_tier = 'premium' AND s.monthly_revenue > 500;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List all customers who have not had any support tickets resolved.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.name FROM customers c LEFT JOIN support_tickets st ON c.customer_id = st.customer_id WHERE st.ticket_id IS NULL;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue from customers in the 'technology' industry who signed up after '2022-06-01'?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(s.monthly_revenue) AS total_revenue FROM subscriptions s JOIN customers c ON s.customer_id = c.customer_id WHERE c.industry = 'technology' AND c.signup_date > '2022-06-01';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many active subscriptions are there for each plan tier, and what is their total monthly revenue?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, COUNT(sub_id) AS active_subscriptions, SUM(monthly_revenue) AS total_revenue FROM subscriptions WHERE status = 'active' GROUP BY plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the top 5 customers by total monthly revenue.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.name, SUM(s.monthly_revenue) AS total_revenue FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id GROUP BY c.name ORDER BY total_revenue DESC LIMIT 5;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average number of support tickets raised per customer, considering only customers with at least one ticket?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(ticket_count) AS avg_tickets_per_customer FROM (SELECT customer_id, COUNT(ticket_id) AS ticket_count FROM support_tickets GROUP BY customer_id);"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List industries that have more than 10 customers and an average monthly revenue per customer exceeding $100.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.industry, COUNT(c.customer_id) AS customer_count, AVG(s.monthly_revenue) AS avg_revenue FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id GROUP BY c.industry HAVING customer_count > 10 AND avg_revenue > 100;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated by customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up each month in the year 2023?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT strftime('%Y-%m', signup_date) AS signup_month, COUNT(customer_id) AS customer_count FROM customers WHERE strftime('%Y', signup_date) = '2023' GROUP BY signup_month ORDER BY signup_month;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List all active subscriptions with a monthly revenue greater than $100.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT sub_id, customer_id, plan_tier, monthly_revenue FROM subscriptions WHERE status = 'active' AND monthly_revenue > 100;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average time to resolve support tickets for 'High' priority issues?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(resolved_in_hours) FROM support_tickets WHERE priority = 'High';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which customers have had more than 3 support tickets raised, and what is the total number of tickets for each?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, COUNT(T2.ticket_id) AS total_tickets FROM customers AS T1 JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id HAVING COUNT(T2.ticket_id) > 3;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Show the count of customers for each industry, ordered by the number of customers in descending order.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) AS customer_count FROM customers GROUP BY industry ORDER BY customer_count DESC;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What are the top 5 highest paying subscription plans by monthly revenue?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, SUM(monthly_revenue) AS total_revenue FROM subscriptions GROUP BY plan_tier ORDER BY total_revenue DESC LIMIT 5;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find customers who signed up after '2023-01-01' and have a 'Premium' plan tier.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, T1.signup_date, T2.plan_tier FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.signup_date > '2023-01-01' AND T2.plan_tier = 'Premium';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the total revenue for each industry, including only active subscriptions.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, SUM(T2.monthly_revenue) AS total_revenue FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'active' GROUP BY T1.industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the percentage of support tickets that were resolved within 24 hours, categorized by issue type?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT issue_type, CAST(SUM(CASE WHEN resolved_in_hours <= 24 THEN 1 ELSE 0 END) AS REAL) * 100 / COUNT(ticket_id) AS percentage_resolved_within_24h FROM support_tickets GROUP BY issue_type;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many support tickets were resolved in under 24 hours for each issue type?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT issue_type, COUNT(ticket_id) FROM support_tickets WHERE resolved_in_hours < 24 GROUP BY issue_type;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who have a 'Premium' plan tier and have signed up in the last year.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.plan_tier = 'Premium' AND T1.signup_date >= date('now', '-1 year');"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average resolution time in hours for 'Billing' issues compared to 'Technical' issues?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT issue_type, AVG(resolved_in_hours) FROM support_tickets WHERE issue_type IN ('Billing', 'Technical') GROUP BY issue_type;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Show the count of active subscriptions for each plan tier.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, COUNT(sub_id) FROM subscriptions WHERE status = 'Active' GROUP BY plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the top 5 customers by total monthly revenue.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, SUM(T2.monthly_revenue) AS total_revenue FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id ORDER BY total_revenue DESC LIMIT 5;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers in the 'Finance' industry have had more than 3 support tickets raised?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(T1.customer_id) FROM customers AS T1 JOIN (SELECT customer_id, COUNT(ticket_id) AS ticket_count FROM support_tickets GROUP BY customer_id HAVING ticket_count > 3) AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Finance';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average monthly revenue for each industry, considering only customers with 'Enterprise' plan tier?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, AVG(T2.monthly_revenue) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.plan_tier = 'Enterprise' GROUP BY T1.industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List all customers who have never had a support ticket resolved.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT name FROM customers WHERE customer_id NOT IN (SELECT DISTINCT customer_id FROM support_tickets);"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the percentage of 'High' priority tickets that are resolved within 12 hours.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT CAST(SUM(CASE WHEN resolved_in_hours <= 12 THEN 1 ELSE 0 END) AS REAL) * 100 / COUNT(ticket_id) FROM support_tickets WHERE priority = 'High';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average number of hours it takes to resolve 'Billing' issue type tickets?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(resolved_in_hours) FROM support_tickets WHERE issue_type = 'Billing'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who have active subscriptions and have spent more than $100 per month.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'active' AND T2.monthly_revenue > 100"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industry has the highest average monthly revenue per customer?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, AVG(T2.monthly_revenue) AS average_revenue FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry ORDER BY average_revenue DESC LIMIT 1"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total number of support tickets resolved in less than 5 hours?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(ticket_id) FROM support_tickets WHERE resolved_in_hours < 5"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Show the top 5 customers by total monthly revenue.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, SUM(T2.monthly_revenue) AS total_revenue FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.name ORDER BY total_revenue DESC LIMIT 5"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many subscriptions are there for each plan tier, and what is the total revenue for each tier?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, COUNT(sub_id), SUM(monthly_revenue) FROM subscriptions GROUP BY plan_tier"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find customers whose signup date is before '2022-01-01' and who have at least one 'urgent' priority support ticket.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT DISTINCT T1.name FROM customers AS T1 INNER JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id WHERE T1.signup_date < '2022-01-01' AND T2.priority = 'urgent'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of customers for each industry, and what is the average monthly revenue for each industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, COUNT(T1.customer_id), AVG(T2.monthly_revenue) FROM customers AS T1 LEFT JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the last quarter of 2023?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(customer_id) FROM customers WHERE strftime('%Y-%m', signup_date) BETWEEN '2023-10' AND '2023-12';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average time it takes to resolve 'Billing Issue' support tickets?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(resolved_in_hours) FROM support_tickets WHERE issue_type = 'Billing Issue';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who have active subscriptions with a 'Premium' plan tier.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.plan_tier = 'Premium' AND T2.status = 'active';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industry has the highest number of support tickets?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, COUNT(T2.ticket_id) AS ticket_count FROM customers AS T1 JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry ORDER BY ticket_count DESC LIMIT 1;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue for each subscription plan tier?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, SUM(monthly_revenue) FROM subscriptions GROUP BY plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find customers whose signup date is before January 1st, 2023 and have an 'urgent' priority support ticket.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT DISTINCT T1.name FROM customers AS T1 JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id WHERE T1.signup_date < '2023-01-01' AND T2.priority = 'urgent';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the total number of resolved and unresolved subscriptions.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT status, COUNT(sub_id) FROM subscriptions GROUP BY status;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average monthly revenue per customer for each industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, AVG(T2.monthly_revenue) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List all customers who have never had a support ticket resolved.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT name FROM customers WHERE customer_id NOT IN (SELECT customer_id FROM support_tickets WHERE resolved_in_hours IS NOT NULL);"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(s.monthly_revenue) FROM subscriptions s JOIN customers c ON s.customer_id = c.customer_id WHERE c.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023 and are currently subscribed?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(DISTINCT c.customer_id) FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id WHERE STRFTIME('%Y', c.signup_date) = '2023' AND s.status = 'Active';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average resolution time for 'Billing Issue' support tickets?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(resolved_in_hours) FROM support_tickets WHERE issue_type = 'Billing Issue';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the top 5 customers by total monthly revenue, along with their industry.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.name, c.industry, SUM(s.monthly_revenue) AS total_revenue FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id GROUP BY c.customer_id ORDER BY total_revenue DESC LIMIT 5;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industries have the highest number of active subscriptions?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.industry, COUNT(s.sub_id) AS active_subscriptions FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id WHERE s.status = 'Active' GROUP BY c.industry ORDER BY active_subscriptions DESC;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the percentage of support tickets that are marked as 'High' priority?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT CAST(SUM(CASE WHEN priority = 'High' THEN 1 ELSE 0 END) AS REAL) * 100 / COUNT(ticket_id) FROM support_tickets;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find customers who have never had a support ticket resolved.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.name FROM customers c LEFT JOIN support_tickets st ON c.customer_id = st.customer_id WHERE st.ticket_id IS NULL;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue generated by each plan tier for customers in the 'Finance' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT s.plan_tier, SUM(s.monthly_revenue) AS total_revenue FROM subscriptions s JOIN customers c ON s.customer_id = c.customer_id WHERE c.industry = 'Finance' GROUP BY s.plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Show the number of customers who signed up each month in the last quarter of 2023.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT STRFTIME('%m', signup_date) AS signup_month, COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023' AND STRFTIME('%m', signup_date) IN ('10', '11', '12') GROUP BY signup_month ORDER BY signup_month;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List all customers who have a 'Premium' plan tier and have had a support ticket with 'Urgent' priority.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT DISTINCT c.name FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id JOIN support_tickets st ON c.customer_id = st.customer_id WHERE s.plan_tier = 'Premium' AND st.priority = 'Urgent';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023, categorized by their industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023' GROUP BY industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average time it takes to resolve support tickets for 'High' priority issues compared to 'Medium' priority issues?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT priority, AVG(resolved_in_hours) FROM support_tickets WHERE priority IN ('High', 'Medium') GROUP BY priority;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who have more than one active subscription.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'active' GROUP BY T1.customer_id HAVING COUNT(T2.sub_id) > 1;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue and number of subscriptions for each plan tier?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, SUM(monthly_revenue), COUNT(sub_id) FROM subscriptions GROUP BY plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industries have the highest average monthly revenue per customer?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, AVG(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry ORDER BY AVG(T2.monthly_revenue) DESC;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the top 5 customers by total monthly revenue.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id ORDER BY SUM(T2.monthly_revenue) DESC LIMIT 5;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of support tickets for each issue type, only for tickets resolved within 24 hours?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT issue_type, COUNT(ticket_id) FROM support_tickets WHERE resolved_in_hours <= 24 GROUP BY issue_type;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Show the number of customers who signed up each month in the last quarter of 2023.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT STRFTIME('%Y-%m', signup_date), COUNT(customer_id) FROM customers WHERE signup_date BETWEEN '2023-10-01' AND '2023-12-31' GROUP BY STRFTIME('%Y-%m', signup_date) ORDER BY STRFTIME('%Y-%m', signup_date);"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023, broken down by industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023' GROUP BY industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average time it takes to resolve support tickets for each priority level?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT priority, AVG(resolved_in_hours) FROM support_tickets GROUP BY priority;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who have more than 3 active subscriptions.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'active' GROUP BY T1.customer_id HAVING COUNT(T2.sub_id) > 3;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue from subscriptions for each plan tier, considering only 'completed' subscriptions?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, SUM(monthly_revenue) FROM subscriptions WHERE status = 'completed' GROUP BY plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the top 5 customers by total monthly revenue across all their subscriptions.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, SUM(T2.monthly_revenue) AS total_revenue FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id ORDER BY total_revenue DESC LIMIT 5;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many support tickets were created for each issue type, and what is the average resolution time for each?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT issue_type, COUNT(ticket_id), AVG(resolved_in_hours) FROM support_tickets GROUP BY issue_type;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industries have the highest average monthly revenue per customer, considering only customers with at least one subscription?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, AVG(T2.monthly_revenue) AS avg_revenue FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry ORDER BY avg_revenue DESC;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the number of customers and the total monthly revenue for each industry, for customers who signed up after '2022-01-01'?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, COUNT(DISTINCT T1.customer_id), SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.signup_date > '2022-01-01' GROUP BY T1.industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Identify customers who have had 'high' priority tickets but have never signed up for a 'premium' plan tier.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT DISTINCT T1.name FROM customers AS T1 LEFT JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id AND T2.plan_tier = 'premium' JOIN support_tickets AS T3 ON T1.customer_id = T3.customer_id WHERE T3.priority = 'high' AND T2.customer_id IS NULL;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the last quarter of 2023, grouped by industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers WHERE strftime('%Y-%m-%d', signup_date) BETWEEN '2023-10-01' AND '2023-12-31' GROUP BY industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average time it takes to resolve 'Billing' issues for 'Enterprise' plan subscribers?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(T1.resolved_in_hours) FROM support_tickets AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.issue_type = 'Billing' AND T2.plan_tier = 'Enterprise';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List all customers who have a 'Premium' plan and have not had any support tickets resolved.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 LEFT JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id INNER JOIN subscriptions AS T3 ON T1.customer_id = T3.customer_id WHERE T3.plan_tier = 'Premium' AND T2.ticket_id IS NULL;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue from each industry, considering only active subscriptions?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'Active' GROUP BY T1.industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the top 3 industries with the highest average monthly revenue per customer.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, AVG(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry ORDER BY AVG(T2.monthly_revenue) DESC LIMIT 3;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers have signed up since the beginning of 2023, and what is their distribution across different plan tiers?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.plan_tier, COUNT(T1.customer_id) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.signup_date >= '2023-01-01' GROUP BY T2.plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of each issue type, and what is the average resolution time for each?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT issue_type, COUNT(ticket_id), AVG(resolved_in_hours) FROM support_tickets GROUP BY issue_type;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List customers who signed up before 2022 and currently have a 'Basic' plan with a 'Cancelled' status.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.signup_date < '2022-01-01' AND T2.plan_tier = 'Basic' AND T2.status = 'Cancelled';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total number of support tickets and total resolved hours for each priority level?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT priority, COUNT(ticket_id), SUM(resolved_in_hours) FROM support_tickets GROUP BY priority;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated by customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(s.monthly_revenue) FROM subscriptions s JOIN customers c ON s.customer_id = c.customer_id WHERE c.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many support tickets were resolved within 24 hours for customers with a 'Premium' plan tier?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(st.ticket_id) FROM support_tickets st JOIN subscriptions s ON st.customer_id = s.customer_id WHERE s.plan_tier = 'Premium' AND st.resolved_in_hours <= 24;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average time it takes to resolve 'Billing Issue' type tickets?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(resolved_in_hours) FROM support_tickets WHERE issue_type = 'Billing Issue';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who signed up in the last 6 months and have an 'Active' subscription.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.name FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id WHERE c.signup_date >= DATE('now', '-6 months') AND s.status = 'Active';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industry has the highest average monthly revenue per customer?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.industry, AVG(s.monthly_revenue) AS avg_revenue FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id GROUP BY c.industry ORDER BY avg_revenue DESC LIMIT 1;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers are there in each industry, sorted by the number of customers in descending order?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) AS customer_count FROM customers GROUP BY industry ORDER BY customer_count DESC;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue generated by 'Gold' plan tier subscriptions that are currently 'Active'?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(monthly_revenue) FROM subscriptions WHERE plan_tier = 'Gold' AND status = 'Active';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the customer ID and name for customers who have never had a support ticket resolved.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.customer_id, c.name FROM customers c LEFT JOIN support_tickets st ON c.customer_id = st.customer_id WHERE st.ticket_id IS NULL;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of customers with 'Enterprise' plan tier for each industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.industry, COUNT(c.customer_id) AS enterprise_customer_count FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id WHERE s.plan_tier = 'Enterprise' GROUP BY c.industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the overall average monthly revenue across all active subscriptions.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(monthly_revenue) FROM subscriptions WHERE status = 'Active';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average number of hours it takes to resolve 'Urgent' priority support tickets?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(resolved_in_hours) FROM support_tickets WHERE priority = 'Urgent'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who have an 'Active' subscription and are in the 'Finance' industry.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'Active' AND T1.industry = 'Finance'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue for each plan tier, ordered from highest to lowest?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, SUM(monthly_revenue) AS total_revenue FROM subscriptions GROUP BY plan_tier ORDER BY total_revenue DESC"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the top 5 customers by the total number of support tickets they have raised.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, COUNT(T2.ticket_id) AS ticket_count FROM customers AS T1 INNER JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.name ORDER BY ticket_count DESC LIMIT 5"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the distribution of customers across different industries?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) AS customer_count FROM customers GROUP BY industry ORDER BY customer_count DESC"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which customers have had more than 3 'Billing Issue' tickets resolved?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id WHERE T2.issue_type = 'Billing Issue' GROUP BY T1.name HAVING COUNT(T2.ticket_id) > 3"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the total monthly revenue for each customer, including only those with active subscriptions.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, SUM(T2.monthly_revenue) AS total_monthly_revenue FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'Active' GROUP BY T1.name"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average monthly revenue generated by subscriptions in the 'Premium' tier?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(monthly_revenue) FROM subscriptions WHERE plan_tier = 'Premium'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023, broken down by industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023' GROUP BY industry"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average time taken to resolve support tickets for each issue type?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT issue_type, AVG(resolved_in_hours) FROM support_tickets GROUP BY issue_type"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which customers have active subscriptions and have also opened more than 5 support tickets?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id INNER JOIN support_tickets AS T3 ON T1.customer_id = T3.customer_id WHERE T2.status = 'active' GROUP BY T1.customer_id HAVING COUNT(T3.ticket_id) > 5"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue for each plan tier for customers whose sign-up date is before January 1, 2022?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.plan_tier, SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.signup_date < '2022-01-01' GROUP BY T2.plan_tier"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the top 5 industries with the highest number of customers who have 'High' priority support tickets.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, COUNT(DISTINCT T1.customer_id) AS customer_count FROM customers AS T1 JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id WHERE T2.priority = 'High' GROUP BY T1.industry ORDER BY customer_count DESC LIMIT 5"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the distribution of subscription statuses (active, paused, cancelled) across different industries?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, T2.status, COUNT(T2.sub_id) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry, T2.status"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find customers who have never had a 'bug' related issue in their support tickets.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT name FROM customers WHERE customer_id NOT IN (SELECT customer_id FROM support_tickets WHERE issue_type = 'bug')"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average monthly revenue per customer for each industry, considering only customers with 'Premium' plan tiers?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, AVG(T2.monthly_revenue) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.plan_tier = 'Premium' GROUP BY T1.industry"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many subscriptions were activated after a support ticket was resolved within 24 hours?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(T2.sub_id) FROM support_tickets AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.resolved_in_hours < 24 AND T2.status = 'active'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T1.monthly_revenue) FROM subscriptions AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T2.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many active subscriptions does each customer have, and what is their total monthly revenue?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, COUNT(T2.sub_id), SUM(T2.monthly_revenue) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'active' GROUP BY T1.customer_id, T1.name;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average resolution time for 'Billing Issue' support tickets?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(resolved_in_hours) FROM support_tickets WHERE issue_type = 'Billing Issue';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List all customers who signed up in the last quarter and have a 'Premium' plan.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.signup_date >= date('now', '-3 months') AND T2.plan_tier = 'Premium';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industry has the highest average monthly revenue per customer?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.industry, AVG(T1.monthly_revenue) AS avg_revenue FROM subscriptions AS T1 JOIN customers AS T2 ON T1.customer_id = T2.customer_id GROUP BY T2.industry ORDER BY avg_revenue DESC LIMIT 1;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of support tickets for each priority level, broken down by customer industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.industry, T1.priority, COUNT(T1.ticket_id) FROM support_tickets AS T1 JOIN customers AS T2 ON T1.customer_id = T2.customer_id GROUP BY T2.industry, T1.priority;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the customers who have had more than 5 support tickets opened.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.name FROM support_tickets AS T1 JOIN customers AS T2 ON T1.customer_id = T2.customer_id GROUP BY T2.customer_id HAVING COUNT(T1.ticket_id) > 5;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue from 'Gold' plan subscriptions for customers who signed up in 2023?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T1.monthly_revenue) FROM subscriptions AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T1.plan_tier = 'Gold' AND STRFTIME('%Y', T2.signup_date) = '2023';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the percentage of 'High' priority support tickets that are resolved within 24 hours.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT CAST(SUM(CASE WHEN resolved_in_hours <= 24 THEN 1 ELSE 0 END) AS REAL) * 100 / COUNT(ticket_id) FROM support_tickets WHERE priority = 'High';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the top 3 customers by total monthly revenue, including their industry.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, T1.industry, SUM(T3.monthly_revenue) AS total_revenue FROM customers AS T1 JOIN subscriptions AS T3 ON T1.customer_id = T3.customer_id GROUP BY T1.customer_id, T1.name, T1.industry ORDER BY total_revenue DESC LIMIT 3;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry, and how many active subscriptions contribute to this revenue?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T1.monthly_revenue), COUNT(T1.sub_id) FROM subscriptions AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T2.industry = 'Technology' AND T1.status = 'active';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the average time it takes to resolve support tickets for each 'priority' level, excluding tickets that took more than 48 hours to resolve.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT priority, AVG(resolved_in_hours) FROM support_tickets WHERE resolved_in_hours <= 48 GROUP BY priority;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who signed up in the last quarter of 2023 and have at least one 'premium' plan tier subscription.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.name FROM subscriptions AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T2.signup_date BETWEEN '2023-10-01' AND '2023-12-31' AND T1.plan_tier = 'premium';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of customers per industry, grouped by their signup month, for customers who have active subscriptions?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.industry, strftime('%Y-%m', T2.signup_date) AS signup_month, COUNT(T2.customer_id) FROM subscriptions AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T1.status = 'active' GROUP BY T2.industry, signup_month;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the top 5 customers by total monthly revenue across all their subscriptions, and show their industry.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.name, T2.industry, SUM(T1.monthly_revenue) AS total_revenue FROM subscriptions AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id GROUP BY T2.customer_id ORDER BY total_revenue DESC LIMIT 5;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Determine the percentage of support tickets that are resolved within 24 hours for each issue type.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT issue_type, CAST(SUM(CASE WHEN resolved_in_hours <= 24 THEN 1 ELSE 0 END) AS REAL) * 100 / COUNT(ticket_id) AS percentage_resolved_within_24h FROM support_tickets GROUP BY issue_type;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industries have the highest average monthly revenue per active subscription?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.industry, AVG(T1.monthly_revenue) AS average_revenue FROM subscriptions AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T1.status = 'active' GROUP BY T2.industry ORDER BY average_revenue DESC;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List all customers who have never had a support ticket raised for them.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT name FROM customers WHERE customer_id NOT IN (SELECT customer_id FROM support_tickets);"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total number of subscriptions for each plan tier, segmented by whether the customer's signup date was before or after January 1st, 2023?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.plan_tier, SUM(CASE WHEN T2.signup_date < '2023-01-01' THEN 1 ELSE 0 END) AS before_2023, SUM(CASE WHEN T2.signup_date >= '2023-01-01' THEN 1 ELSE 0 END) AS on_or_after_2023 FROM subscriptions AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the customers whose total monthly revenue from active subscriptions exceeds the average monthly revenue of all active subscriptions.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.name, SUM(T1.monthly_revenue) AS total_customer_revenue FROM subscriptions AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T1.status = 'active' GROUP BY T2.customer_id HAVING total_customer_revenue > (SELECT AVG(monthly_revenue) FROM subscriptions WHERE status = 'active');"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average time it takes to resolve 'Billing' issues?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(resolved_in_hours) FROM support_tickets WHERE issue_type = 'Billing';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who have active subscriptions and their plan tier.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, T2.plan_tier FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'Active';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industry has the highest number of active subscriptions?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, COUNT(T2.sub_id) AS active_subscriptions FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'Active' GROUP BY T1.industry ORDER BY active_subscriptions DESC LIMIT 1;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue generated by each plan tier?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, SUM(monthly_revenue) AS total_revenue FROM subscriptions GROUP BY plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find customers who have had more than 5 support tickets raised.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id HAVING COUNT(T2.ticket_id) > 5;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average monthly revenue per customer in the 'Finance' industry for active subscriptions?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(T2.monthly_revenue) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Finance' AND T2.status = 'Active';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many support tickets were resolved within 24 hours for 'Technical' issues?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(ticket_id) FROM support_tickets WHERE issue_type = 'Technical' AND resolved_in_hours <= 24;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Show the customer name, industry, and total monthly revenue for customers with subscriptions costing more than $100 per month.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, T1.industry, SUM(T2.monthly_revenue) AS total_revenue FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.monthly_revenue > 100 GROUP BY T1.customer_id, T1.name, T1.industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023, broken down by industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023' GROUP BY industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average time it takes to resolve 'Billing' issues for 'Enterprise' plan subscribers?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(T1.resolved_in_hours) FROM support_tickets AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.issue_type = 'Billing' AND T2.plan_tier = 'Enterprise';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the top 5 customers by total monthly revenue, along with their industry.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, T1.industry, SUM(T2.monthly_revenue) AS total_revenue FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id ORDER BY total_revenue DESC LIMIT 5;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industries have the highest number of 'High' priority support tickets?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, COUNT(T1.customer_id) AS ticket_count FROM customers AS T1 INNER JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id WHERE T2.priority = 'High' GROUP BY T1.industry ORDER BY ticket_count DESC;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the distribution of subscription plan tiers for customers who signed up in the last 6 months?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.plan_tier, COUNT(T1.customer_id) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.signup_date >= DATE('now', '-6 months') GROUP BY T2.plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find customers who have had more than 3 support tickets opened, and list their names and the total number of tickets they have.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, COUNT(T2.ticket_id) AS total_tickets FROM customers AS T1 JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id HAVING COUNT(T2.ticket_id) > 3;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the revenue generated by each industry, showing only industries with an average monthly revenue per customer above $100.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, SUM(T2.monthly_revenue) AS total_revenue FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry HAVING AVG(T2.monthly_revenue) > 100;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What percentage of support tickets are resolved within 24 hours, grouped by issue type?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT issue_type, CAST(SUM(CASE WHEN resolved_in_hours <= 24 THEN 1 ELSE 0 END) AS REAL) * 100 / COUNT(ticket_id) FROM support_tickets GROUP BY issue_type;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Identify customers whose subscription status is 'Cancelled' and who signed up after '2022-01-01'.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, T1.signup_date, T2.status FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'Cancelled' AND T1.signup_date > '2022-01-01';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T1.monthly_revenue) FROM subscriptions AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T2.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up each month in the year 2023?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT STRFTIME('%Y-%m', signup_date) AS signup_month, COUNT(customer_id) AS num_customers FROM customers WHERE STRFTIME('%Y', signup_date) = '2023' GROUP BY signup_month ORDER BY signup_month;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average time to resolve support tickets, broken down by priority?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT priority, AVG(resolved_in_hours) AS average_resolution_time FROM support_tickets GROUP BY priority;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List all customers who have a 'Premium' plan tier and have generated more than $100 in monthly revenue.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.name FROM subscriptions AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T1.plan_tier = 'Premium' AND T1.monthly_revenue > 100;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industry has the highest number of active subscriptions?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.industry, COUNT(T1.sub_id) AS active_subscription_count FROM subscriptions AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T1.status = 'Active' GROUP BY T2.industry ORDER BY active_subscription_count DESC LIMIT 1;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue from each plan tier for customers who signed up in the last 6 months?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.plan_tier, SUM(T1.monthly_revenue) AS total_revenue FROM subscriptions AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T2.signup_date >= DATE('now', '-6 months') GROUP BY T1.plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the top 3 customers by total monthly revenue.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.name, SUM(T1.monthly_revenue) AS total_revenue FROM subscriptions AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id GROUP BY T2.name ORDER BY total_revenue DESC LIMIT 3;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many 'Billing Issue' type tickets were resolved in under 24 hours?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(ticket_id) FROM support_tickets WHERE issue_type = 'Billing Issue' AND resolved_in_hours < 24;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the distribution of customers across different industries?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) AS customer_count FROM customers GROUP BY industry ORDER BY customer_count DESC;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Show the customer name, their industry, and their current subscription plan tier for all 'Active' subscriptions.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.name, T2.industry, T1.plan_tier FROM subscriptions AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T1.status = 'Active';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry who have an 'Active' subscription?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T1.monthly_revenue) FROM subscriptions AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T2.industry = 'Technology' AND T1.status = 'Active'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023, broken down by industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023' GROUP BY industry"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average time it takes to resolve 'Billing' issues for customers with 'Premium' subscriptions?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(T1.resolved_in_hours) FROM support_tickets AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.issue_type = 'Billing' AND T2.plan_tier = 'Premium'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who have had more than 3 support tickets raised, along with the total number of tickets they have.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, COUNT(T2.ticket_id) FROM customers AS T1 INNER JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id HAVING COUNT(T2.ticket_id) > 3"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industries have the highest average monthly revenue per customer, considering only customers with 'Active' subscriptions?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.industry, AVG(T1.monthly_revenue) FROM subscriptions AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T1.status = 'Active' GROUP BY T2.industry ORDER BY AVG(T1.monthly_revenue) DESC"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find customers whose signup date is before '2022-01-01' and who currently have a 'Canceled' subscription.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.signup_date < '2022-01-01' AND T2.status = 'Canceled'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total number of 'High' priority support tickets resolved within 24 hours, grouped by customer industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T2.industry, COUNT(T1.ticket_id) FROM support_tickets AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T1.priority = 'High' AND T1.resolved_in_hours <= 24 GROUP BY T2.industry"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the monthly revenue for each customer, showing only those customers who have subscribed to the 'Enterprise' plan tier.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.plan_tier = 'Enterprise' GROUP BY T1.customer_id"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of distinct industries that have at least one customer with a 'Low' priority support ticket?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(DISTINCT T2.industry) FROM support_tickets AS T1 INNER JOIN customers AS T2 ON T1.customer_id = T2.customer_id WHERE T1.priority = 'Low'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Show the customer names and their corresponding monthly revenue for all 'Active' subscriptions with a revenue greater than $100.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, T2.monthly_revenue FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'Active' AND T2.monthly_revenue > 100"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023, broken down by industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023' GROUP BY industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the average time it takes to resolve support tickets for each priority level.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT priority, AVG(resolved_in_hours) FROM support_tickets GROUP BY priority;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List all customers who have active subscriptions and have had more than 5 support tickets raised.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id JOIN support_tickets AS T3 ON T1.customer_id = T3.customer_id WHERE T2.status = 'active' GROUP BY T1.customer_id HAVING COUNT(T3.ticket_id) > 5;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue generated by each plan tier, and what is the count of customers for each tier?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, SUM(monthly_revenue), COUNT(DISTINCT customer_id) FROM subscriptions GROUP BY plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Show the top 3 industries with the highest average monthly revenue per customer.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, AVG(T2.monthly_revenue) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry ORDER BY AVG(T2.monthly_revenue) DESC LIMIT 3;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which customers have not had any support tickets resolved in the last 30 days?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT name FROM customers EXCEPT SELECT T1.name FROM customers AS T1 JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id WHERE T2.resolved_in_hours IS NOT NULL;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the percentage of 'High' priority tickets that are resolved within 24 hours?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT CAST(SUM(CASE WHEN resolved_in_hours <= 24 THEN 1 ELSE 0 END) AS REAL) * 100 / COUNT(ticket_id) FROM support_tickets WHERE priority = 'High';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the customer name, their industry, and the total number of tickets they have opened.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, T1.industry, COUNT(T2.ticket_id) FROM customers AS T1 LEFT JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the total revenue and average resolution time for customers whose signup date is before 2022 and have an 'Enterprise' plan.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue), AVG(T3.resolved_in_hours) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id LEFT JOIN support_tickets AS T3 ON T1.customer_id = T3.customer_id WHERE T1.signup_date < '2022-01-01' AND T2.plan_tier = 'Enterprise';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated by customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023, broken down by industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023' GROUP BY industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average resolution time for 'Billing' issues?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(resolved_in_hours) FROM support_tickets WHERE issue_type = 'Billing';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who have a 'Premium' plan and whose subscription is currently 'Active'.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.plan_tier = 'Premium' AND T2.status = 'Active';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total revenue generated by each industry for active subscriptions?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'Active' GROUP BY T1.industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which customers have had more than 3 support tickets opened?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id HAVING COUNT(T2.ticket_id) > 3;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the highest monthly revenue for any subscription plan?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT MAX(monthly_revenue) FROM subscriptions;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the number of support tickets with 'High' priority that were resolved in under 24 hours.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(ticket_id) FROM support_tickets WHERE priority = 'High' AND resolved_in_hours < 24;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the customer with the most 'Active' subscriptions.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'Active' GROUP BY T1.customer_id ORDER BY COUNT(T2.sub_id) DESC LIMIT 1;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average monthly revenue per customer for each industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, AVG(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from all active subscriptions, broken down by plan tier?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, SUM(monthly_revenue) AS total_revenue FROM subscriptions WHERE status = 'active' GROUP BY plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which customers have signed up in the last quarter and have a 'premium' plan tier?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.name FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id WHERE c.signup_date >= date('now', '-3 months') AND s.plan_tier = 'premium';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average number of hours it takes to resolve support tickets for each priority level?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT priority, AVG(resolved_in_hours) AS average_resolution_time FROM support_tickets GROUP BY priority;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers are there in each industry, and what is the average monthly revenue per customer in each industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.industry, COUNT(DISTINCT c.customer_id) AS num_customers, AVG(s.monthly_revenue) AS avg_revenue FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id GROUP BY c.industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the top 3 customers by total monthly revenue, along with their industry and signup date.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.name, c.industry, c.signup_date, SUM(s.monthly_revenue) AS total_revenue FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id GROUP BY c.customer_id ORDER BY total_revenue DESC LIMIT 3;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of support tickets that were resolved in under 5 hours for customers in the 'technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(st.ticket_id) FROM support_tickets st JOIN customers c ON st.customer_id = c.customer_id WHERE st.resolved_in_hours < 5 AND c.industry = 'technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the total revenue for each customer, and identify customers whose total revenue exceeds $500.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.name, SUM(s.monthly_revenue) AS total_revenue FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id GROUP BY c.customer_id HAVING total_revenue > 500;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the distribution of subscription plan tiers for customers who signed up in the year 2023?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT s.plan_tier, COUNT(s.sub_id) FROM subscriptions s JOIN customers c ON s.customer_id = c.customer_id WHERE c.signup_date BETWEEN '2023-01-01' AND '2023-12-31' GROUP BY s.plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the customers who have the highest number of active subscriptions.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT c.name, COUNT(s.sub_id) AS num_active_subscriptions FROM customers c JOIN subscriptions s ON c.customer_id = s.customer_id WHERE s.status = 'active' GROUP BY c.customer_id ORDER BY num_active_subscriptions DESC;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the year 2023?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(customer_id) FROM customers WHERE STRFTIME('%Y', signup_date) = '2023';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average number of hours it takes to resolve 'Billing Issue' support tickets?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT AVG(resolved_in_hours) FROM support_tickets WHERE issue_type = 'Billing Issue';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who have an 'Active' subscription and whose monthly revenue is greater than $100.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'Active' AND T2.monthly_revenue > 100;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total number of support tickets resolved per industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, COUNT(T3.ticket_id) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id JOIN support_tickets AS T3 ON T1.customer_id = T3.customer_id GROUP BY T1.industry;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industry has the highest average monthly revenue per customer?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, AVG(T2.monthly_revenue) FROM customers AS T1 JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry ORDER BY AVG(T2.monthly_revenue) DESC LIMIT 1;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of customers for each plan tier, filtering for only 'Active' subscriptions?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, COUNT(customer_id) FROM subscriptions WHERE status = 'Active' GROUP BY plan_tier;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the customer with the most 'High' priority support tickets.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, COUNT(T2.ticket_id) FROM customers AS T1 JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id WHERE T2.priority = 'High' GROUP BY T1.name ORDER BY COUNT(T2.ticket_id) DESC LIMIT 1;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the sum of monthly revenue for each customer who signed up after '2022-06-30'?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.signup_date > '2022-06-30';"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List all customers and the number of support tickets they have, including those with no tickets.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, COUNT(T2.ticket_id) FROM customers AS T1 LEFT JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.name;"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the total monthly revenue generated from customers in the 'Technology' industry?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT SUM(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T1.industry = 'Technology'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: How many customers signed up in the last quarter of 2023?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT COUNT(customer_id) FROM customers WHERE strftime('%Y-%m', signup_date) BETWEEN '2023-10' AND '2023-12'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the average number of hours it takes to resolve support tickets for each priority level?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT priority, AVG(resolved_in_hours) FROM support_tickets GROUP BY priority"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the names of customers who have active subscriptions and whose sign-up date is before January 1st, 2023.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id WHERE T2.status = 'active' AND T1.signup_date < '2023-01-01'"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Which industry has the highest number of support tickets with 'High' priority?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry FROM customers AS T1 INNER JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id WHERE T2.priority = 'High' GROUP BY T1.industry ORDER BY COUNT(T2.ticket_id) DESC LIMIT 1"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Calculate the total revenue for each plan tier, considering only subscriptions that are currently active.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT plan_tier, SUM(monthly_revenue) FROM subscriptions WHERE status = 'active' GROUP BY plan_tier"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Find the top 5 customers by their total monthly revenue across all their subscriptions.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, SUM(T2.monthly_revenue) AS total_revenue FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.customer_id ORDER BY total_revenue DESC LIMIT 5"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: What is the count of customers for each industry who have signed up since the beginning of 2024?\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT industry, COUNT(customer_id) FROM customers WHERE signup_date >= '2024-01-01' GROUP BY industry"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: Determine the average monthly revenue per customer for each industry.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.industry, AVG(T2.monthly_revenue) FROM customers AS T1 INNER JOIN subscriptions AS T2 ON T1.customer_id = T2.customer_id GROUP BY T1.industry"}
{"instruction": "You are a text-to-SQL AI. Convert the question into a valid SQL query based on the schema.", "input": "Question: List the customer names and their corresponding issue types for all 'Urgent' priority support tickets that were resolved in less than 24 hours.\nSchema: Table: customers\nColumns: customer_id (INTEGER), name (TEXT), industry (TEXT), signup_date (DATE)\n\nTable: subscriptions\nColumns: sub_id (INTEGER), customer_id (INTEGER), plan_tier (TEXT), monthly_revenue (REAL), status (TEXT)\n\nTable: support_tickets\nColumns: ticket_id (INTEGER), customer_id (INTEGER), issue_type (TEXT), priority (TEXT), resolved_in_hours (INTEGER)\n\n", "output": "SELECT T1.name, T2.issue_type FROM customers AS T1 INNER JOIN support_tickets AS T2 ON T1.customer_id = T2.customer_id WHERE T2.priority = 'Urgent' AND T2.resolved_in_hours < 24"}
